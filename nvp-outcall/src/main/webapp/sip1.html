<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <script type="text/javascript" src="./jssip/jssip-3.1.1.js"></script>
    <script type="text/javascript">

        function call() {
            alert("123");

            // Create our JsSIP instance and run it:
            var socket = new JsSIP.WebSocketInterface('ws://192.168.28.198:8088/');
            var configuration = {
                sockets: [socket],
                uri: 'sip:1001@192.168.28.179',
                password: 'aaa'
            };

            var ua = new JsSIP.UA(configuration);

            ua.start();

            // Register callbacks to desired call events
            var eventHandlers = {
                'progress': function (e) {
                    console.log('call is in progress');
                },
                'failed': function (e) {
                    console.log('call failed with cause: ' + e.data.cause);
                },
                'ended': function (e) {
                    console.log('call ended with cause: ' + e.data.cause);
                },
                'confirmed': function (e) {
                    console.log('call confirmed');
                }
            };

            var options = {
                'eventHandlers': eventHandlers,
                'mediaConstraints': {'audio': true, 'video': true}
            };

            var session = ua.call('sip:bob@example.com', options);
        }
    </script>
</head>
<body>
<input type="button" onclick="call()" value="呼叫"/>

</body>
</html>